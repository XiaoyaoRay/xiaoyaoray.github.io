<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="ME3msYcybKqnDs44ndmIfn2DaVmb4yp5PI_9FPy6">
  <meta name="baidu-site-verification" content="tYbnPEPXVc">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.ritboy.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="转载：https:&#x2F;&#x2F;blog.csdn.net&#x2F;admin_root1&#x2F;article&#x2F;details&#x2F;78911718 官网：http:&#x2F;&#x2F;cobbler.github.io&#x2F;manuals&#x2F;quickstart&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS7安装Cobbler">
<meta property="og:url" content="https://blog.ritboy.com/articles/226070369.html">
<meta property="og:site_name" content="Ritboy&#39;s Blog">
<meta property="og:description" content="转载：https:&#x2F;&#x2F;blog.csdn.net&#x2F;admin_root1&#x2F;article&#x2F;details&#x2F;78911718 官网：http:&#x2F;&#x2F;cobbler.github.io&#x2F;manuals&#x2F;quickstart&#x2F;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/3e25fe22cea8639e24b0b419df61b3b4.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/dbf9369874617e16babad33251f054e6.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/597d204f33c1491cddbf599fbaabf14f.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/450a8235b6b6bcaa8700d646bf416560.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/3f0c8ac79ce8256c3a8f36ea630ea3ac.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/e1bff7b52a11e87046d04732e75104d8.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/7a3c9640ff25bb368dddb2e7a3d8ad2c.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/ff8c060f37c20e70f58a745c2e8a2caa.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/566ae84df153023b8be17a1a289c8ebc.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/56832a4fb1d4a4555758306acf029364.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/2524079504e58e5b2f3b84d4f913bb3f.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/923cd2122c2196151a3ad31f53cbacd8.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/c8d6938843212e1be8165b5d02d4c51f.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/14d94b97741520eb2b240f18af9dfc99.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/8abf08a4d7d27b36d39698e802d0384b.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/21c30f76ccadbe4707241cb48030c17e.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/492783eeb319ae3213e02bf77114c071.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/e946d86c7f67c7a25ea821cc3014fc3c.jpg">
<meta property="og:image" content="https://image.ritboy.com/markdown/202004/493d25e9da8f99d5426a1015edc032ac.jpg">
<meta property="article:published_time" content="2018-06-21T07:34:19.000Z">
<meta property="article:modified_time" content="2018-06-21T07:34:19.000Z">
<meta property="article:author" content="Ritboy">
<meta property="article:tag" content="CentOS">
<meta property="article:tag" content="运维">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.ritboy.com/markdown/202004/3e25fe22cea8639e24b0b419df61b3b4.jpg">

<link rel="canonical" href="https://blog.ritboy.com/articles/226070369.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CentOS7安装Cobbler | Ritboy's Blog</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-163895731-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a2c1e7007a525ab8670b72d6edb333af";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Ritboy's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Maybe A Programmer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">35</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">28</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">99</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/ritboylei" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener external nofollow noreferrer" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.ritboy.com/articles/226070369.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Ritboy">
      <meta itemprop="description" content="鲲鹏万里，能躺否，也许会编程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ritboy's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CentOS7安装Cobbler
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-21 15:34:19" itemprop="dateCreated datePublished" datetime="2018-06-21T15:34:19+08:00">2018-06-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>转载：<a href="https://blog.csdn.net/admin_root1/article/details/78911718" target="_blank" rel="noopener external nofollow noreferrer">https://blog.csdn.net/admin_root1/article/details/78911718</a></p>
<p>官网：<a href="http://cobbler.github.io/manuals/quickstart/" target="_blank" rel="noopener external nofollow noreferrer">http://cobbler.github.io/manuals/quickstart/</a></p>
<a id="more"></a>
<h2 id="1-1-cobbler简介"><a href="#1-1-cobbler简介" class="headerlink" title="1.1 cobbler简介"></a>1.1 cobbler简介</h2><p>　　Cobbler是一个Linux服务器安装的服务，可以通过网络启动(PXE)的方式来快速安装、重装物理服务器和虚拟机，同时还可以管理DHCP，DNS等。</p>
<p>　　Cobbler可以使用命令行方式管理，也提供了基于Web的界面管理工具(cobbler-web)，还提供了API接口，可以方便二次开发使用。</p>
<p>　　Cobbler是较早前的kickstart的升级版，优点是比较容易配置，还自带web界面比较易于管理。</p>
<p>　　Cobbler内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如Puppet，暂时不支持SaltStack。</p>
<p>　　Cobbler官网<a href="http://cobbler.github.io/" target="_blank" rel="noopener external nofollow noreferrer">http://cobbler.github.io</a></p>
<p>　　在使用cobbler之前需要了解kickstart的使用： <a href="http://www.cnblogs.com/clsn/p/7833333.html" target="_blank" rel="noopener external nofollow noreferrer">http://www.cnblogs.com/clsn/p/7833333.html</a></p>
<h3 id="1-1-1-cobbler集成的服务"><a href="#1-1-1-cobbler集成的服务" class="headerlink" title="1.1.1 cobbler集成的服务"></a>1.1.1 cobbler集成的服务</h3><p> 　　 PXE服务支持</p>
<p> 　　 DHCP服务管理</p>
<p> 　　 DNS服务管理(可选bind,dnsmasq)</p>
<p>  　　电源管理</p>
<p>  　　Kickstart服务支持</p>
<p>  　　YUM仓库管理</p>
<p>  　　TFTP(PXE启动时需要)</p>
<p>  　　Apache<strong>( 提供kickstart的安装源，并提供定制化的kickstart配置)</strong></p>
<h2 id="1-2-安装cobbler"><a href="#1-2-安装cobbler" class="headerlink" title="1.2 安装cobbler"></a>1.2 安装cobbler</h2><h3 id="1-2-1-环境说明"><a href="#1-2-1-环境说明" class="headerlink" title="1.2.1 环境说明"></a>1.2.1 环境说明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># selinux 查看是否关闭</span><br><span class="line">[root@Cobbler ~]# getenforce</span><br><span class="line">Disabled</span><br><span class="line"></span><br><span class="line">[root@Cobbler ~]# systemctl status firewalld.service</span><br><span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">   Loaded: loaded (&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;firewalld.service; disabled; vendor preset: enabled)</span><br><span class="line">   Active: inactive (dead)</span><br><span class="line">     Docs: man:firewalld(1)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-2-更新yum源"><a href="#1-2-2-更新yum源" class="headerlink" title="1.2.2 更新yum源"></a>1.2.2 更新yum源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br><span class="line">[root@Cobbler ~]# curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;epel.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;epel-7.repo</span><br><span class="line">[root@Cobbler ~]# yum clean all</span><br><span class="line">[root@Cobbler ~]# yum makecache</span><br></pre></td></tr></table></figure>

<h3 id="1-2-3-使用yum安装cobble"><a href="#1-2-3-使用yum安装cobble" class="headerlink" title="1.2.3 使用yum安装cobble"></a>1.2.3 使用yum安装cobble</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# yum -y install cobbler cobbler-web dhcp tftp-server pykickstart httpd</span><br></pre></td></tr></table></figure>

<p>   <em>说明：cobbler<strong>是依赖与epel</strong>源下载</em></p>
<h3 id="1-2-4-cobbler语法检查前先启动http与cobbler"><a href="#1-2-4-cobbler语法检查前先启动http与cobbler" class="headerlink" title="1.2.4 cobbler语法检查前先启动http与cobbler"></a>1.2.4 cobbler语法检查前先启动http与cobbler</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start httpd.service</span><br><span class="line">systemctl start cobblerd.service</span><br><span class="line">cobbler check</span><br></pre></td></tr></table></figure>

<h3 id="1-2-5-进行语法检查"><a href="#1-2-5-进行语法检查" class="headerlink" title="1.2.5 进行语法检查"></a>1.2.5 进行语法检查</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# cobbler check</span><br><span class="line">The following are potential configuration items that you may want to fix:</span><br><span class="line"></span><br><span class="line">1 : The &#39;server&#39; field in &#x2F;etc&#x2F;cobbler&#x2F;settings must be set to something other than localhost, or kickstarting features will not work.  This should be a resolvable hostname or IP for the boot server as reachable by all machines that will use it.</span><br><span class="line"></span><br><span class="line">2 : For PXE to be functional, the &#39;next_server&#39; field in &#x2F;etc&#x2F;cobbler&#x2F;settings must be set to something other than 127.0.0.1, and should match the IP of the boot server on the PXE network.</span><br><span class="line"></span><br><span class="line">3 : change &#39;disable&#39; to &#39;no&#39; in &#x2F;etc&#x2F;xinetd.d&#x2F;tftp</span><br><span class="line"></span><br><span class="line">4 : Some network boot-loaders are missing from &#x2F;var&#x2F;lib&#x2F;cobbler&#x2F;loaders, you may run &#39;cobbler get-loaders&#39; to download them, or, if you only want to handle x86&#x2F;x86_64 netbooting, you may ensure that you have installed a *recent* version of the syslinux package installed and can ignore this message entirely.  Files in this directory, should you want to support all architectures, should include pxelinux.0, menu.c32, elilo.efi, and yaboot. The &#39;cobbler get-loaders&#39; command is the easiest way to resolve these requirements.</span><br><span class="line"></span><br><span class="line">5 : enable and start rsyncd.service with systemctl</span><br><span class="line"></span><br><span class="line">6 : debmirror package is not installed, it will be required to manage debian deployments and repositories</span><br><span class="line"></span><br><span class="line">7 : The default password used by the sample templates for newly installed machines (default_password_crypted in &#x2F;etc&#x2F;cobbler&#x2F;settings) is still set to &#39;cobbler&#39; and should be changed, try: &quot;openssl passwd -1 -salt &#39;random-phrase-here&#39; &#39;your-password-here&#39;&quot; to generate new one</span><br><span class="line"></span><br><span class="line">8 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them</span><br><span class="line"></span><br><span class="line">Restart cobblerd and then run &#39;cobbler sync&#39; to apply changes.</span><br></pre></td></tr></table></figure>

<h3 id="1-2-6-解决当中的报错"><a href="#1-2-6-解决当中的报错" class="headerlink" title="1.2.6 解决当中的报错"></a>1.2.6 解决当中的报错</h3><p><em>命令集</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#39;s&#x2F;server: 127.0.0.1&#x2F;server: 172.16.1.202&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -i &#39;s&#x2F;next_server: 127.0.0.1&#x2F;next_server: 172.16.1.202&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -i &#39;s&#x2F;manage_dhcp: 0&#x2F;manage_dhcp: 1&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -i &#39;s&#x2F;pxe_just_once: 0&#x2F;pxe_just_once: 1&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -ri &quot;&#x2F;default_password_crypted&#x2F;s#(.*: ).*#\1\&quot;&#96;openssl passwd -1 -salt &#39;oldboy&#39; &#39;123456&#39;&#96;\&quot;#&quot; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -i &#39;s#yes#no#&#39; &#x2F;etc&#x2F;xinetd.d&#x2F;tftp</span><br><span class="line"></span><br><span class="line">systemctl start rsyncd</span><br><span class="line">systemctl enable rsyncd</span><br><span class="line">systemctl enable tftp.socket</span><br><span class="line">systemctl start tftp.socket</span><br><span class="line">systemctl restart cobblerd.service</span><br><span class="line"></span><br><span class="line">sed -i.ori &#39;s#192.168.1#172.16.1#g&#39; &#x2F;etc&#x2F;cobbler&#x2F;dhcp.template</span><br><span class="line"></span><br><span class="line">cobbler sync</span><br></pre></td></tr></table></figure>

<p>View <em>命令集  单击+打开</em></p>
<p><em>详解</em></p>
<p><em>解决1<em>、</em>2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;etc&#x2F;cobbler&#x2F;settings&#123;,.ori&#125;</span><br><span class="line">sed -i &#39;s&#x2F;server: 127.0.0.1&#x2F;server: 172.16.1.202&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br><span class="line">sed -i &#39;s&#x2F;next_server: 127.0.0.1&#x2F;next_server: 172.16.1.202&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br></pre></td></tr></table></figure>

<p><em>问题3</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#39;s#yes#no#g&#39; &#x2F;etc&#x2F;xinetd.d&#x2F;tftp -i</span><br></pre></td></tr></table></figure>

<p><em>问题:4下载包所需的软件包</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# cobbler get-loaders</span><br><span class="line">[root@Cobbler ~]# ls  &#x2F;var&#x2F;lib&#x2F;cobbler&#x2F;loaders</span><br><span class="line">COPYING.elilo     elilo-ia64.efi   menu.c32    yaboot</span><br><span class="line">COPYING.syslinux  grub-x86_64.efi  pxelinux.0</span><br><span class="line">COPYING.yaboot    grub-x86.efi     README</span><br></pre></td></tr></table></figure>

<p><em>5<strong>启动rsync</strong>服务</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# systemctl start rsyncd.service</span><br><span class="line">[root@Cobbler ~]# systemctl enable rsyncd.service</span><br></pre></td></tr></table></figure>

<p><em>6 debian**相关无需修改</em></p>
<p><em>7<strong>、修改安装完成后的root</strong>密码</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openssl passwd -1 -salt &#39;random-phrase-here&#39; &#39;your-password-here&#39;</span><br><span class="line">random-phrase-here  随机字符串</span><br><span class="line">your-password-here 密码</span><br></pre></td></tr></table></figure>

<p><em>示例</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# openssl passwd -1 -salt &#39;CLSN&#39; &#39;123456&#39;</span><br><span class="line">$1$CLSN$LpJk4x1cplibx3q&#x2F;O4O&#x2F;K&#x2F;</span><br></pre></td></tr></table></figure>

<p><em>管理dhcp</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#39;s&#x2F;manage_dhcp: 0&#x2F;manage_dhcp: 1&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br></pre></td></tr></table></figure>

<p><em>防止重装</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#39;s&#x2F;pxe_just_once: 0&#x2F;pxe_just_once: 1&#x2F;&#39; &#x2F;etc&#x2F;cobbler&#x2F;settings</span><br></pre></td></tr></table></figure>

<p><em>修改dhcp**模板</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i.ori &#39;s#192.168.1#172.16.1#g;22d;23d&#39; &#x2F;etc&#x2F;cobbler&#x2F;dhcp.template</span><br></pre></td></tr></table></figure>

<p>cobbler组配置文件位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;cobbler&#x2F;settings</span><br></pre></td></tr></table></figure>

<p><strong>注意：修改完成之后要使用cobbler sync</strong> <strong>进行同步，否则不生效。</strong></p>
<h3 id="1-2-7-修改之后"><a href="#1-2-7-修改之后" class="headerlink" title="1.2.7 修改之后"></a>1.2.7 修改之后</h3><p><em>再次检查语法：</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# cobbler check</span><br><span class="line">The following are potential configuration items that you may want to fix:</span><br><span class="line"></span><br><span class="line">1 : debmirror package is not installed, it will be required to manage debian deployments and repositories</span><br><span class="line">2 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them</span><br><span class="line"></span><br><span class="line">Restart cobblerd and then run &#39;cobbler sync&#39; to apply changes.</span><br></pre></td></tr></table></figure>

<p>重启所有服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd.service</span><br><span class="line">systemctl restart cobblerd.service</span><br><span class="line">systemctl restart dhcpd.service</span><br><span class="line">systemctl restart rsyncd.service</span><br><span class="line">systemctl restart tftp.socket</span><br></pre></td></tr></table></figure>

<p><strong>到此cobbler就安装完成，下面进行web界面的操作。</strong></p>
<h2 id="1-3-cobbler的web及界面操作"><a href="#1-3-cobbler的web及界面操作" class="headerlink" title="1.3 cobbler的web及界面操作"></a>1.3 cobbler的web及界面操作</h2><p>浏览器访问<strong><a href="https://10.0.0.202/cobbler_web" target="_blank" rel="noopener external nofollow noreferrer">https://10.0.0.202/cobbler_web</a></strong></p>
<p>   <em>注意CentOS7<strong>中cobbler</strong>只支持https**访问。</em></p>
<p>   <em>账号密码默认均为**</em>cobbler**</p>
<p><img src="https://image.ritboy.com/markdown/202004/3e25fe22cea8639e24b0b419df61b3b4.jpg" alt="img"> </p>
<h3 id="1-3-1-操作说明–导入镜像"><a href="#1-3-1-操作说明–导入镜像" class="headerlink" title="1.3.1 操作说明–导入镜像"></a>1.3.1 操作说明–导入镜像</h3><p>1）在虚拟机上添加上镜像</p>
<p><img src="https://image.ritboy.com/markdown/202004/dbf9369874617e16babad33251f054e6.jpg" alt="img"> </p>
<p>2)挂载上镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# mount &#x2F;dev&#x2F;cdrom  &#x2F;mnt&#x2F;</span><br><span class="line">mount: &#x2F;dev&#x2F;sr0 is write-protected, mounting read-only</span><br><span class="line"></span><br><span class="line">[root@Cobbler ~]# df -h |grep mnt</span><br><span class="line">&#x2F;dev&#x2F;sr0        4.3G  4.3G     0 100% &#x2F;mnt</span><br></pre></td></tr></table></figure>

<p>   3)进行导入镜像</p>
<p>   选择<em>Import DVD</em>  输入Prefix(文件前缀)，Arch（版本），Breed（品牌），Path(要从什么地方导入)</p>
<p>   在导入镜像的时候要注意路径，防止循环导入。</p>
<p>   信息配置好后，点击run，即可进行导入。</p>
<p> <img src="https://image.ritboy.com/markdown/202004/597d204f33c1491cddbf599fbaabf14f.jpg" alt="img"></p>
<p><em>导入过程使用rsync进行导入，三个进程消失表示导入完毕</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler mnt]# ps -ef |grep rsync</span><br><span class="line">root   12026      1  0 19:04 ?   00:00:00 &#x2F;usr&#x2F;bin&#x2F;rsync --daemon --no-detach</span><br><span class="line">root  13554  11778 12 19:51 ?    00:00:06 rsync -a &#x2F;mnt&#x2F; &#x2F;var&#x2F;www&#x2F;cobbler&#x2F;ks_mirror&#x2F;CentOS7.4-x86_64 --progress</span><br><span class="line">root   13555  13554  0 19:51 ?     00:00:00 rsync -a &#x2F;mnt&#x2F; &#x2F;var&#x2F;www&#x2F;cobbler&#x2F;ks_mirror&#x2F;CentOS7.4-x86_64 --progress</span><br><span class="line">root   13556  13555 33 19:51 ?        00:00:17 rsync -a &#x2F;mnt&#x2F; &#x2F;var&#x2F;www&#x2F;cobbler&#x2F;ks_mirror&#x2F;CentOS7.4-x86_64 --progress</span><br><span class="line">root   13590  10759  0 19:52 pts&#x2F;1    00:00:00 grep --color&#x3D;auto rsync</span><br></pre></td></tr></table></figure>

<p>查看日志可以发现右running进程</p>
<p>​      日志位于 <strong>Events</strong></p>
<p><img src="https://image.ritboy.com/markdown/202004/450a8235b6b6bcaa8700d646bf416560.jpg" alt="img"> </p>
<p><em>导入完成后生成的文件夹</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ks_mirror]# pwd</span><br><span class="line">&#x2F;var&#x2F;www&#x2F;cobbler&#x2F;ks_mirror</span><br><span class="line"></span><br><span class="line">[root@Cobbler ks_mirror]# ls</span><br><span class="line">CentOS7.4-x86_64  config</span><br></pre></td></tr></table></figure>

<h3 id="1-3-2-创建一台空白虚拟机，进行测试网路安装"><a href="#1-3-2-创建一台空白虚拟机，进行测试网路安装" class="headerlink" title="1.3.2 创建一台空白虚拟机，进行测试网路安装"></a>1.3.2 创建一台空白虚拟机，进行测试网路安装</h3><p>注意：虚拟机的内存不能小于2G,网卡的配置要保证网络互通</p>
<p><strong>启动虚拟机</strong></p>
<p>   启动虚拟机即可发现会有cobbler的选择界面</p>
<p><img src="https://image.ritboy.com/markdown/202004/3f0c8ac79ce8256c3a8f36ea630ea3ac.jpg" alt="img"></p>
<p>选择CentOS7.4即可进行安装，安装过程与光盘安装一致，这里就不在复述。</p>
<h2 id="1-4-定制化安装操作系统"><a href="#1-4-定制化安装操作系统" class="headerlink" title="1.4 定制化安装操作系统"></a>1.4 定制化安装操作系统</h2><h3 id="1-4-1-添加内核参数"><a href="#1-4-1-添加内核参数" class="headerlink" title="1.4.1 添加内核参数"></a>1.4.1 添加内核参数</h3><p>1）查看导入的镜像，点击edit</p>
<p><img src="https://image.ritboy.com/markdown/202004/e1bff7b52a11e87046d04732e75104d8.jpg" alt="img"> </p>
<p>2）在内核参数中添加net.ifnames=0 biosdevname=0</p>
<p>   能够让显示的网卡变为eth0 ，而不是CentOS7中的ens33</p>
<p>   修改完成后点击保存</p>
<p><img src="https://image.ritboy.com/markdown/202004/7a3c9640ff25bb368dddb2e7a3d8ad2c.jpg" alt="img"></p>
<h3 id="1-4-2-查看镜像属性"><a href="#1-4-2-查看镜像属性" class="headerlink" title="1.4.2 查看镜像属性"></a>1.4.2 查看镜像属性</h3><p><img src="https://image.ritboy.com/markdown/202004/ff8c060f37c20e70f58a745c2e8a2caa.jpg" alt="img"> </p>
<h3 id="1-4-3-编写ks文件"><a href="#1-4-3-编写ks文件" class="headerlink" title="1.4.3 编写ks文件"></a>1.4.3 编写ks文件</h3><p>1)创建新的ks文件</p>
<p><img src="https://image.ritboy.com/markdown/202004/566ae84df153023b8be17a1a289c8ebc.jpg" alt="img"> </p>
<p>2）添加ks文件，并配置文件名</p>
<p>​      创建完成后点击Save进行保存</p>
<p><img src="https://image.ritboy.com/markdown/202004/56832a4fb1d4a4555758306acf029364.jpg" alt="img"></p>
<p><em>CentOS7  ks配置文件参考</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> 1 # Cobbler for Kickstart Configurator for CentOS 7 by clsn</span><br><span class="line"> 2 install</span><br><span class="line"> 3 url --url&#x3D;$tree</span><br><span class="line"> 4 text</span><br><span class="line"> 5 lang en_US.UTF-8</span><br><span class="line"> 6 keyboard us</span><br><span class="line"> 7 zerombr</span><br><span class="line"> 8 bootloader --location&#x3D;mbr --driveorder&#x3D;sda --append&#x3D;&quot;crashkernel&#x3D;auto rhgb quiet&quot;</span><br><span class="line"> 9 #Network information</span><br><span class="line">10 $SNIPPET(&#39;network_config&#39;)</span><br><span class="line">11 #network --bootproto&#x3D;dhcp --device&#x3D;eth0 --onboot&#x3D;yes --noipv6 --hostname&#x3D;CentOS7</span><br><span class="line">12 timezone --utc Asia&#x2F;Shanghai</span><br><span class="line">13 authconfig --enableshadow --passalgo&#x3D;sha512</span><br><span class="line">14 rootpw  --iscrypted $default_password_crypted</span><br><span class="line">15 clearpart --all --initlabel</span><br><span class="line">16 part &#x2F;boot --fstype xfs --size 1024</span><br><span class="line">17 part swap --size 1024</span><br><span class="line">18 part &#x2F; --fstype xfs --size 1 --grow</span><br><span class="line">19 firstboot --disable</span><br><span class="line">20 selinux --disabled</span><br><span class="line">21 firewall --disabled</span><br><span class="line">22 logging --level&#x3D;info</span><br><span class="line">23 reboot</span><br><span class="line">24 </span><br><span class="line">25 %pre</span><br><span class="line">26 $SNIPPET(&#39;log_ks_pre&#39;)</span><br><span class="line">27 $SNIPPET(&#39;kickstart_start&#39;)</span><br><span class="line">28 $SNIPPET(&#39;pre_install_network_config&#39;)</span><br><span class="line">29 # Enable installation monitoring</span><br><span class="line">30 $SNIPPET(&#39;pre_anamon&#39;)</span><br><span class="line">31 %end</span><br><span class="line">32 </span><br><span class="line">33 %packages</span><br><span class="line">34 @^minimal</span><br><span class="line">35 @compat-libraries</span><br><span class="line">36 @core</span><br><span class="line">37 @debugging</span><br><span class="line">38 @development</span><br><span class="line">39 bash-completion</span><br><span class="line">40 chrony</span><br><span class="line">41 dos2unix</span><br><span class="line">42 kexec-tools</span><br><span class="line">43 lrzsz</span><br><span class="line">44 nmap</span><br><span class="line">45 sysstat</span><br><span class="line">46 telnet</span><br><span class="line">47 tree</span><br><span class="line">48 vim</span><br><span class="line">49 wget</span><br><span class="line">50 %end</span><br><span class="line">51 </span><br><span class="line">52 %post</span><br><span class="line">53 systemctl disable postfix.service</span><br><span class="line">54 %end</span><br></pre></td></tr></table></figure>

<p>View Code  ks文件内容(centos7.x)</p>
<h3 id="1-4-4-自定义安装系统"><a href="#1-4-4-自定义安装系统" class="headerlink" title="1.4.4 自定义安装系统"></a>1.4.4 自定义安装系统</h3><p>1)选择systems 创建一个新的系统</p>
<p><img src="https://image.ritboy.com/markdown/202004/2524079504e58e5b2f3b84d4f913bb3f.jpg" alt="img"></p>
<p>2)定义系统信息</p>
<p><img src="https://image.ritboy.com/markdown/202004/923cd2122c2196151a3ad31f53cbacd8.jpg" alt="img"></p>
<p>3)配置全局网络信息</p>
<p>​      主机名、网关、DNS</p>
<p><img src="https://image.ritboy.com/markdown/202004/c8d6938843212e1be8165b5d02d4c51f.jpg" alt="img"></p>
<p>4)配置网卡信息，eth0，eth1</p>
<p>   需要注意，选择static静态，</p>
<p><img src="https://image.ritboy.com/markdown/202004/14d94b97741520eb2b240f18af9dfc99.jpg" alt="img"> </p>
<p>   <strong>以上的所有配置完成后，点击Save进行保存</strong></p>
<p><strong>附录：</strong></p>
<p>   VMware workstation中查看虚拟机mac地址的方法。在虚拟机设置中。</p>
<p><img src="https://image.ritboy.com/markdown/202004/8abf08a4d7d27b36d39698e802d0384b.jpg" alt="img"> </p>
<p> <strong>cobbler web 界面说明</strong></p>
<p><img src="https://image.ritboy.com/markdown/202004/21c30f76ccadbe4707241cb48030c17e.jpg" alt="img"></p>
<h2 id="1-5-安装虚拟机"><a href="#1-5-安装虚拟机" class="headerlink" title="1.5 安装虚拟机"></a>1.5 安装虚拟机</h2><h3 id="1-5-1-开启虚拟机"><a href="#1-5-1-开启虚拟机" class="headerlink" title="1.5.1 开启虚拟机"></a>1.5.1 开启虚拟机</h3><p>如果之前的设置就显示安装进度</p>
<p><img src="https://image.ritboy.com/markdown/202004/492783eeb319ae3213e02bf77114c071.jpg" alt="img"> </p>
<h3 id="1-5-2-安装完成进行检查"><a href="#1-5-2-安装完成进行检查" class="headerlink" title="1.5.2 安装完成进行检查"></a>1.5.2 安装完成进行检查</h3><p><img src="https://image.ritboy.com/markdown/202004/e946d86c7f67c7a25ea821cc3014fc3c.jpg" alt="img"></p>
<h2 id="1-6-cobbler使用常见错误"><a href="#1-6-cobbler使用常见错误" class="headerlink" title="1.6 cobbler使用常见错误"></a>1.6 cobbler使用常见错误</h2><h3 id="1-6-1-cobbler-check报错"><a href="#1-6-1-cobbler-check报错" class="headerlink" title="1.6.1 cobbler check报错"></a>1.6.1 cobbler check报错</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@Cobbler ~]# cobbler sync</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;bin&#x2F;cobbler&quot;, line 36, in &lt;module&gt;</span><br><span class="line">    sys.exit(app.main())</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;cobbler&#x2F;cli.py&quot;, line 662, in main</span><br><span class="line">    rc &#x3D; cli.run(sys.argv)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;site-packages&#x2F;cobbler&#x2F;cli.py&quot;, line 269, in run</span><br><span class="line">    self.token         &#x3D; self.remote.login(&quot;&quot;, self.shared_secret)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 1233, in __call__</span><br><span class="line">    return self.__send(self.__name, args)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 1587, in __request</span><br><span class="line">    verbose&#x3D;self.__verbose</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 1273, in request</span><br><span class="line">    return self.single_request(host, handler, request_body, verbose)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 1306, in single_request</span><br><span class="line">    return self.parse_response(response)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 1482, in parse_response</span><br><span class="line">    return u.close()</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib64&#x2F;python2.7&#x2F;xmlrpclib.py&quot;, line 794, in close</span><br><span class="line">    raise Fault(**self._stack[0])</span><br><span class="line">xmlrpclib.Fault: &lt;Fault 1: &quot;&lt;class &#39;cobbler.cexceptions.CX&#39;&gt;:&#39;login failed&#39;&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>解决办法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd.service</span><br><span class="line">systemctl restart cobblerd.service</span><br><span class="line">cobbler check</span><br></pre></td></tr></table></figure>

<h3 id="1-6-2-No-space-left-on-device"><a href="#1-6-2-No-space-left-on-device" class="headerlink" title="1.6.2 No space left on device"></a>1.6.2 No space left on device</h3><p><img src="https://image.ritboy.com/markdown/202004/493d25e9da8f99d5426a1015edc032ac.jpg" alt="img"> </p>
<p>   出现这个错误的原因是虚拟机的内存不足2G，</p>
<p>   将内存调为2G即可（这个错误只会出现在CentOS7.3之上）</p>

    </div>

    
    
    
      
  <div class="popular-posts-header">推荐阅读</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/articles/2139646571.html" rel="bookmark">CentOS7安装python虚拟运行环境</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/articles/292711784.html" rel="bookmark">CentOS7 添加或删除用户</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/articles/484813477.html" rel="bookmark">配置 Securing OpenSSH</a></div>
    </li>
  </ul>

        

<div class="post-copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

  <!-- JS库 sweetalert 可修改路径TODO: 这两个js好像可以不要-->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p>
    <span>本文标题：</span>
    <a href="/articles/226070369.html">CentOS7安装Cobbler</a>
  </p>
  <p>
    <span>本文作者：</span>
    <a href="/" title="访问 Ritboy 的个人博客">Ritboy</a>
  </p>
  <p>
    <span>发布时间：</span>
    2018年06月21日 - 15:34:19
  </p>
  <p>
    <span>最后更新：</span>
    2018年06月21日 - 15:34:19
  </p>
  <p><span>本文链接：</span>
    <a href="/articles/226070369.html" title="CentOS7安装Cobbler">https://blog.ritboy.com/articles/226070369.html</a>
    <span class="copy-path"  title="点击复制文章链接">
      <i class="fa fa-clipboard" data-clipboard-text="https://blog.ritboy.com/articles/226070369.html"  aria-label="复制成功！"></i>
    </span>
  </p>
  <p>
    <span>版权声明：</span>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请保留原文链接及作者。
  </p>
</div>
<script>
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({
          title: "",
          text: '复制成功',
          icon: "success",
          showConfirmButton: true
          });
    });
    });
</script>

        
    <div class="read-over">
        -------------------本文结束
        <i class="fa fa-paw"></i>
        感谢您的阅读-------------------
    </div>

        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="Ritboy 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Ritboy 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CentOS/" rel="tag">
                  <i class="fa fa-tag"></i>
                
                  CentOS
              </a>
              <a href="/tags/%E8%BF%90%E7%BB%B4/" rel="tag">
                  <i class="fa fa-tag"></i>
                
                  运维
              </a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/articles/3793781524.html" rel="prev" title="Docker清理方案">
      <i class="fa fa-chevron-left"></i> Docker清理方案
    </a></div>
      <div class="post-nav-item">
    <a href="/articles/3637687526.html" rel="next" title="Kubernetes没有拉取镜像权限">
      Kubernetes没有拉取镜像权限 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-cobbler简介"><span class="nav-number">1.</span> <span class="nav-text">1.1 cobbler简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-cobbler集成的服务"><span class="nav-number">1.1.</span> <span class="nav-text">1.1.1 cobbler集成的服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-安装cobbler"><span class="nav-number">2.</span> <span class="nav-text">1.2 安装cobbler</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-环境说明"><span class="nav-number">2.1.</span> <span class="nav-text">1.2.1 环境说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-更新yum源"><span class="nav-number">2.2.</span> <span class="nav-text">1.2.2 更新yum源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-使用yum安装cobble"><span class="nav-number">2.3.</span> <span class="nav-text">1.2.3 使用yum安装cobble</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-cobbler语法检查前先启动http与cobbler"><span class="nav-number">2.4.</span> <span class="nav-text">1.2.4 cobbler语法检查前先启动http与cobbler</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-5-进行语法检查"><span class="nav-number">2.5.</span> <span class="nav-text">1.2.5 进行语法检查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-6-解决当中的报错"><span class="nav-number">2.6.</span> <span class="nav-text">1.2.6 解决当中的报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-7-修改之后"><span class="nav-number">2.7.</span> <span class="nav-text">1.2.7 修改之后</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-cobbler的web及界面操作"><span class="nav-number">3.</span> <span class="nav-text">1.3 cobbler的web及界面操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-操作说明–导入镜像"><span class="nav-number">3.1.</span> <span class="nav-text">1.3.1 操作说明–导入镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-创建一台空白虚拟机，进行测试网路安装"><span class="nav-number">3.2.</span> <span class="nav-text">1.3.2 创建一台空白虚拟机，进行测试网路安装</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-定制化安装操作系统"><span class="nav-number">4.</span> <span class="nav-text">1.4 定制化安装操作系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-添加内核参数"><span class="nav-number">4.1.</span> <span class="nav-text">1.4.1 添加内核参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-查看镜像属性"><span class="nav-number">4.2.</span> <span class="nav-text">1.4.2 查看镜像属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-3-编写ks文件"><span class="nav-number">4.3.</span> <span class="nav-text">1.4.3 编写ks文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-4-自定义安装系统"><span class="nav-number">4.4.</span> <span class="nav-text">1.4.4 自定义安装系统</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-安装虚拟机"><span class="nav-number">5.</span> <span class="nav-text">1.5 安装虚拟机</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-开启虚拟机"><span class="nav-number">5.1.</span> <span class="nav-text">1.5.1 开启虚拟机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-安装完成进行检查"><span class="nav-number">5.2.</span> <span class="nav-text">1.5.2 安装完成进行检查</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-cobbler使用常见错误"><span class="nav-number">6.</span> <span class="nav-text">1.6 cobbler使用常见错误</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-1-cobbler-check报错"><span class="nav-number">6.1.</span> <span class="nav-text">1.6.1 cobbler check报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-2-No-space-left-on-device"><span class="nav-number">6.2.</span> <span class="nav-text">1.6.2 No space left on device</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ritboy"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Ritboy</p>
  <div class="site-description" itemprop="description">鲲鹏万里，能躺否，也许会编程</div>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ritboylei" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ritboylei" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ritboylei@gmail.com" title="E-Mail → mailto:ritboylei@gmail.com" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

      <!-- canvas粒子时钟 -->
        
          <!-- canvas粒子时钟 https://www.cnblogs.com/xiaohuochai/p/6368039.html
  https://www.html5tricks.com/html5-canvas-dance-time.html
 -->
<div class="site-diy-time">
  <canvas id="canvas" style="width:60%;" width="820" height="250">
</div>
<script async>
(function(){
  var WINDOW_WIDTH = 820;
  		var WINDOW_HEIGHT = 250;
  		var RADIUS = 7; //球半径
  		var NUMBER_GAP = 10; //数字之间的间隙
  		var u=0.65; //碰撞能量损耗系数
  		var context; //Canvas绘制上下文
  		var balls = []; //存储彩色的小球
  		const colors = ["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"]; //彩色小球的颜色
  		var currentNums = []; //屏幕显示的8个字符
  		var digit =
                  [
                      [
                          [0,0,1,1,1,0,0],
                          [0,1,1,0,1,1,0],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,0,1,1,0],
                          [0,0,1,1,1,0,0]
                      ],//0
                      [
                          [0,0,0,1,1,0,0],
                          [0,1,1,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [1,1,1,1,1,1,1]
                      ],//1
                      [
                          [0,1,1,1,1,1,0],
                          [1,1,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,0,0],
                          [0,0,1,1,0,0,0],
                          [0,1,1,0,0,0,0],
                          [1,1,0,0,0,0,0],
                          [1,1,0,0,0,1,1],
                          [1,1,1,1,1,1,1]
                      ],//2
                      [
                          [1,1,1,1,1,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,0,0],
                          [0,0,1,1,1,0,0],
                          [0,0,0,0,1,1,0],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,1,1,0]
                      ],//3
                      [
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,1,0],
                          [0,0,1,1,1,1,0],
                          [0,1,1,0,1,1,0],
                          [1,1,0,0,1,1,0],
                          [1,1,1,1,1,1,1],
                          [0,0,0,0,1,1,0],
                          [0,0,0,0,1,1,0],
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,1,1]
                      ],//4
                      [
                          [1,1,1,1,1,1,1],
                          [1,1,0,0,0,0,0],
                          [1,1,0,0,0,0,0],
                          [1,1,1,1,1,1,0],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,1,1,0]
                      ],//5
                      [
                          [0,0,0,0,1,1,0],
                          [0,0,1,1,0,0,0],
                          [0,1,1,0,0,0,0],
                          [1,1,0,0,0,0,0],
                          [1,1,0,1,1,1,0],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,1,1,0]
                      ],//6
                      [
                          [1,1,1,1,1,1,1],
                          [1,1,0,0,0,1,1],
                          [0,0,0,0,1,1,0],
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,0,0],
                          [0,0,0,1,1,0,0],
                          [0,0,1,1,0,0,0],
                          [0,0,1,1,0,0,0],
                          [0,0,1,1,0,0,0],
                          [0,0,1,1,0,0,0]
                      ],//7
                      [
                          [0,1,1,1,1,1,0],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,1,1,0],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,1,1,0]
                      ],//8
                      [
                          [0,1,1,1,1,1,0],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [1,1,0,0,0,1,1],
                          [0,1,1,1,0,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,0,1,1],
                          [0,0,0,0,1,1,0],
                          [0,0,0,1,1,0,0],
                          [0,1,1,0,0,0,0]
                      ],//9
                      [
                          [0,0,0,0],
                          [0,0,0,0],
                          [0,1,1,0],
                          [0,1,1,0],
                          [0,0,0,0],
                          [0,0,0,0],
                          [0,1,1,0],
                          [0,1,1,0],
                          [0,0,0,0],
                          [0,0,0,0]
                      ]//:
                  ];

  		function drawDatetime(cxt){
  			var nums = [];

  			context.fillStyle="#005eac"
  			var date = new Date();
  			var offsetX = 70, offsetY = 30;
  			var hours = date.getHours();
  			var num1 = Math.floor(hours/10);
  			var num2 = hours%10;
  			nums.push({num: num1});
  			nums.push({num: num2});
  			nums.push({num: 10}); //冒号
  			var minutes = date.getMinutes();
  			var num1 = Math.floor(minutes/10);
  			var num2 = minutes%10;
  			nums.push({num: num1});
  			nums.push({num: num2});
  			nums.push({num: 10}); //冒号
  			var seconds = date.getSeconds();
  			var num1 = Math.floor(seconds/10);
  			var num2 = seconds%10;
  			nums.push({num: num1});
  			nums.push({num: num2});

  			for(var x = 0;x<nums.length;x++){
  				nums[x].offsetX = offsetX;
  				offsetX = drawSingleNumber(offsetX,offsetY, nums[x].num,cxt);
  				//两个数字连一块，应该间隔一些距离
  				if(x<nums.length-1){
  					if((nums[x].num!=10) &&(nums[x+1].num!=10)){
  						offsetX+=NUMBER_GAP;
  					}
  				}
  			}

  			//说明这是初始化
  			if(currentNums.length ==0){
  				currentNums = nums;
  			}else{
  				//进行比较
  				for(var index = 0;index<currentNums.length;index++){
  					if(currentNums[index].num!=nums[index].num){
  						//不一样时，添加彩色小球
  						addBalls(nums[index]);
  						currentNums[index].num=nums[index].num;
  					}
  				}
  			}
  			renderBalls(cxt);
  			updateBalls();

  			return date;
  		}

  		function addBalls (item) {
  			var num = item.num;
  			var numMatrix = digit[num];
  			for(var y = 0;y<numMatrix.length;y++){
  				for(var x = 0;x<numMatrix[y].length;x++){
  					if(numMatrix[y][x]==1){
  						var ball={
  							offsetX:item.offsetX+RADIUS+RADIUS*2*x,
  							offsetY:30+RADIUS+RADIUS*2*y,
  							color:colors[Math.floor(Math.random()*colors.length)],
  							g:1.5+Math.random(),
  							vx:Math.pow(-1, Math.ceil(Math.random()*10))*4+Math.random(),
  							vy:-5
  						}
  						balls.push(ball);
  					}
  				}
  			}
  		}

  		function renderBalls(cxt){
  			for(var index = 0;index<balls.length;index++){
  				cxt.beginPath();
  				cxt.fillStyle=balls[index].color;
  				cxt.arc(balls[index].offsetX, balls[index].offsetY, RADIUS, 0, 2*Math.PI);
  				cxt.fill();
  			}
  		}

  		function updateBalls () {
  			var i =0;
  			for(var index = 0;index<balls.length;index++){
  				var ball = balls[index];
  				ball.offsetX += ball.vx;
  				ball.offsetY += ball.vy;
  				ball.vy+=ball.g;
  				if(ball.offsetY > (WINDOW_HEIGHT-RADIUS)){
  					ball.offsetY= WINDOW_HEIGHT-RADIUS;
  					ball.vy=-ball.vy*u;
  				}
  				if(ball.offsetX>RADIUS&&ball.offsetX<(WINDOW_WIDTH-RADIUS)){

  					balls[i]=balls[index];
  					i++;
  				}
  			}
  			//去除出边界的球
  			for(;i<balls.length;i++){
  				balls.pop();
  			}
  		}
  		function drawSingleNumber(offsetX, offsetY, num, cxt){
  			var numMatrix = digit[num];
  			for(var y = 0;y<numMatrix.length;y++){
  				for(var x = 0;x<numMatrix[y].length;x++){
  					if(numMatrix[y][x]==1){
  						cxt.beginPath();
  						cxt.arc(offsetX+RADIUS+RADIUS*2*x,offsetY+RADIUS+RADIUS*2*y,RADIUS,0,2*Math.PI);
  						cxt.fill();
  					}
  				}
  			}
  			cxt.beginPath();
  			offsetX += numMatrix[0].length*RADIUS*2;
  			return offsetX;
  		}

  		var canvas = document.getElementById("canvas");
  		canvas.width=WINDOW_WIDTH;
  		canvas.height=WINDOW_HEIGHT;
  		context = canvas.getContext("2d");

  		//记录当前绘制的时刻
  		var currentDate = new Date();

  		setInterval(function(){
  			//清空整个Canvas，重新绘制内容
  			context.clearRect(0, 0, context.canvas.width, context.canvas.height);
  			drawDatetime(context);
  		}, 50)
})();
</script>
        
        <!-- 网站运行时间 -->
        
          <div id="days"></div>

<script async language="javascript">

  function show_date_time(){
      window.setTimeout("show_date_time()", 1000);
  //    BirthDay=new Date("08/07/2019 20:00:00");
      BirthDay=new Date("04/12/2018 00:00:00");
      today=new Date();
      timeold=(today.getTime()-BirthDay.getTime());
      sectimeold=timeold/1000
      secondsold=Math.floor(sectimeold);
      msPerDay=24*60*60*1000
      e_daysold=timeold/msPerDay
      daysold=Math.floor(e_daysold);
      e_hrsold=(e_daysold-daysold)*24;
      hrsold=setzero(Math.floor(e_hrsold));
      e_minsold=(e_hrsold-hrsold)*60;
      minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
      seconds=setzero(Math.floor((e_minsold-minsold)*60));
      document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"时"+minsold+"分"+seconds+"秒";
  }

  function setzero(i){
      if (i<10)
      {i="0" + i};
      return i;
  }

  show_date_time();

</script>
        
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        <div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ritboy</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>

    

    <span title="站点总字数">355k</span>




  <div class="beian">
      <img src="/images/beian.png" style="display: inline-block;"><a href="http://www.beian.miit.gov.cn/" rel="noopener external nofollow noreferrer" target="_blank"> 蜀ICP备 19038127号-2 </a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>













  

  

  
  
</body>
</html>
